module src/tests/helpers/testUtils

import test

def assertNotThrown[E](ex: on[E]){ body: => Unit / Exception[E] }: Unit / Assertion =
  ex.default { do assert(false, "Unexpected Exception") } {body}

def assertNoThrow[E]{ body: => Unit / Exception[E] }: Unit / Assertion =
  on[E].default{ do assert(false, "Unexpected Exception") } {body}

def assertThrown[E](ex: on[E]){ body: => Unit / Exception[E] }: Unit / Assertion =
  do assert(ex.default { true } { body(); false }, "Expected Exception, but exited normally")

def assertThrows[E]{body: => Unit / Exception[E] }: Unit / Assertion =
  do assert(on[E].default{ true }{ body(); false }, "Expected Exception, but exited normally")